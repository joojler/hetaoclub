<?php TPL::output('admin/global/header.tpl.htm'); ?><?php TPL::output('admin/global/nav_menu.tpl.htm'); ?><div class="pull-left right-side">	<form action="admin/settings/save/" id="settings_form" method="post">	<div class="aw-box">		<a name="site_info"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('站点信息'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('网站名称'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input type="text" class="form-control" name="site_name" value="<?php echo $this->setting['site_name']; ?>">						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('网站简介'); ?>:</h3></dt>				<dd><textarea class="form-control" name="description"><?php echo $this->setting['description']; ?></textarea></dd>			</dl>			<dl>				<dt><h3><?php _e('网站关键词'); ?>:</h3></dt>				<dd>					<textarea class="form-control" name="keywords"><?php echo $this->setting['keywords']; ?></textarea>					<p class="aw-text-color-999"><?php _e('多个关键词以 , 隔开'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('网站 ICP 备案号'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="icp_beian" class="form-control" type="text" value="<?php echo $this->setting['icp_beian']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('网站地址'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="base_url" class="form-control" type="text" value="<?php echo $this->setting['base_url']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('末尾不带 /'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('上传目录外部访问 URL 地址'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="upload_url" class="form-control" type="text" value="<?php echo $this->setting['upload_url']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('上传文件存放绝对路径'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="upload_dir" class="form-control" type="text" value="<?php echo $this->setting['upload_dir']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('目前网站根目录绝对路径'); ?>: <?php echo ROOT_PATH; ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('static 目录资源 URL 地址'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="img_url" class="form-control" type="text" value="<?php echo $this->setting['img_url']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('末尾不带 /, 留空使用根目录下的 static 资源'); ?></p>				</dd>			</dl>		</div>		<a name="register_viste"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('注册与访问'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('默认时区'); ?>:</h3></dt>				<dd><select name="default_timezone">					<option value='Etc/GMT+12'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+12') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 12:00 小时) 安尼威托克岛，卡瓦加兰'); ?></option>					<option value='Etc/GMT+11'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+11') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 11:00 小时) 中途岛，萨摩亚'); ?></option>					<option value='Etc/GMT+10'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+10') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 10:00 小时) 夏威夷'); ?></option>					<option value='Etc/GMT+9'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+9') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 9:00 小时) 阿拉斯加'); ?></option>					<option value='Etc/GMT+8'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+8') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 8:00 小时) 太平洋时间'); ?></option>					<option value='Etc/GMT+7'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+7') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 7:00 小时) 美国山区时间'); ?></option>					<option value='Etc/GMT+6'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+6') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 6:00 小时) 美国中部时间，墨西哥市'); ?></option>					<option value='Etc/GMT+5'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+5') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 5:00 小时) 美国东部时间，波哥大，利马'); ?></option>					<option value='Etc/GMT+4'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+4') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 4:00 小时) 大西洋时间（加拿大），加拉加斯，拉巴斯'); ?></option>					<option value='Canada/Newfoundland'<?php if ($this->setting['default_timezone'] == 'Canada/Newfoundland') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 3:30 小时) 纽芬兰'); ?></option>					<option value='Etc/GMT+3'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+3') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 3:00 小时) 巴西，布宜诺斯艾利斯，福克兰群岛'); ?></option>					<option value='Etc/GMT+2'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+2') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 2:00 小时) 大西洋中部，亚森欣，圣赫勒拿岛'); ?></option>					<option value='Etc/GMT+1'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+1') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 1:00 小时) 亚速群岛，佛得角群岛'); ?></option>					<option value='Etc/GMT'<?php if ($this->setting['default_timezone'] == 'Etc/GMT') { ?> selected="selected"<?php } ?>><?php _e('(GMT) 卡萨布兰卡，都柏林，伦敦，里斯本，蒙罗维亚'); ?></option>					<option value='Etc/GMT-1'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-1') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 1:00 小时) 布鲁塞尔，哥本哈根，马德里，巴黎'); ?></option>					<option value='Etc/GMT-2'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-2') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 2:00 小时) 加里宁格勒，南非'); ?></option>					<option value='Etc/GMT-3'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-3') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 3:00 小时) 巴格达，利雅德，莫斯科，奈洛比'); ?></option>					<option value='Iran'<?php if ($this->setting['default_timezone'] == 'Iran') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 3:30 小时) 德黑兰'); ?></option>					<option value='Etc/GMT-4'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-4') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 4:00 小时) 阿布达比，巴库，马斯喀特，第比利斯'); ?></option>					<option value='Asia/Kabul'<?php if ($this->setting['default_timezone'] == 'Asia/Kabul') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 4:30 小时) 喀布尔'); ?></option>					<option value='Etc/GMT-5'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-5') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 5:00 小时) 凯萨琳堡，克拉嗤，塔什干'); ?></option>					<option value='Asia/Kolkata'<?php if ($this->setting['default_timezone'] == 'Asia/Kolkata') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 5:30 小时) 孟买，加尔各答，马德拉斯，新德里'); ?></option>					<option value='Etc/GMT-6'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-6') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 6:00 小时) 阿拉木图，科隆巴，达卡'); ?></option>					<option value='Etc/GMT-7'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-7') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 7:00 小时) 曼谷，河内，雅加达'); ?></option>					<option value='Etc/GMT-8'<?php if (!$this->setting['default_timezone'] OR $this->setting['default_timezone'] == 'Etc/GMT-8') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 8:00 小时) 北京，香港，澳洲伯斯，新加坡，台北'); ?></option>					<option value='Etc/GMT-9'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-9') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 9:00 小时) 大阪，札幌，首尔，东京，亚库次克'); ?></option>					<option value='Etc/GMT-10'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-10') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 10:00 小时) 墨尔本，巴布亚新几内亚，雪梨'); ?></option>					<option value='Etc/GMT-11'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-11') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 11:00 小时) 马加丹，新喀里多尼亚，所罗门群岛'); ?></option>					<option value='Etc/GMT-12'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-12') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 12:00 小时) 新西兰，斐济，马绍尔群岛'); ?></option>					<option value='Etc/GMT-13'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-13') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 13:00 小时) 堪察加半岛，阿那底河'); ?></option>					<option value='Etc/GMT-14'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-14') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 14:00 小时) 圣诞岛'); ?></option>				</select>			</dd>			</dl>			<dl>				<dt><h3><?php _e('站点关闭'); ?>:</h3></dt>				<dd>				<span class="yesno_yes">					<label><input type="radio" name="site_close" value="Y"<?php if ($this->setting['site_close'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>				</span>								<span class="yesno_no">					<label><input type="radio" name="site_close" value="N"<?php if ($this->setting['site_close'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>				</span>					</dd>			</dl>			<dl>				<dt><h3><?php _e('站点关闭的提示'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input type="text" class="form-control" name="close_notice" value="<?php echo $this->setting['close_notice']; ?>" />						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('新用户注册显示验证码'); ?>:</h3></dt>				<dd>					<span class="yesno_yes">						<label><input type="radio" name="register_seccode" value="Y"<?php if ($this->setting['register_seccode'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>					<span class="yesno_no">						<label><input type="radio" name="register_seccode" value="N"<?php if ($this->setting['register_seccode'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('新用户注册验证类型'); ?>:</h3></dt>								<dd>					<label><input type="radio" name="register_valid_type" value="email"<?php if ($this->setting['register_valid_type'] == 'email') { ?> checked="checked"<?php } ?> /> <?php _e('邮件验证'); ?></label>										<label><input type="radio" name="register_valid_type" value="approval"<?php if ($this->setting['register_valid_type'] == 'approval') { ?> checked="checked"<?php } ?> /> <?php _e('邮件验证 + 后台审核'); ?></label>										<label><input type="radio" name="register_valid_type" value="N"<?php if ($this->setting['register_valid_type'] == 'N') { ?> checked="checked"<?php } ?> /> <?php _e('不验证'); ?></label>				</dd>			</dl>			<dl>				<dt><h3><?php _e('注册类型'); ?>:</h3></dt>								<dd>				<label><input type="radio" name="register_type" value="open"<?php if ($this->setting['register_type'] == 'open') { ?> checked="checked"<?php } ?> /> <?php _e('开放注册'); ?></label>								<label><input type="radio" name="register_type" value="invite"<?php if ($this->setting['register_type'] == 'invite') { ?> checked="checked"<?php } ?> /> <?php _e('邀请注册'); ?></label>								<?php if (get_setting('weixin_app_id')) { ?>				<label><input type="radio" name="register_type" value="weixin"<?php if ($this->setting['register_type'] == 'weixin') { ?> checked="checked"<?php } ?> /> <?php _e('微信一站式注册 (不支持 UCenter)'); ?></label>				<?php } ?>								<label><input type="radio" name="register_type" value="close"<?php if ($this->setting['register_type'] == 'close') { ?> checked="checked"<?php } ?> /> <?php _e('关闭注册'); ?></label>				</dd>			</dl>			<dl>				<dt><h3><?php _e('用户名规则'); ?>:</h3></dt>				<dd><label><input type="radio" value="0" name="username_rule"<?php if ($this->setting['username_rule'] == 0) { ?> checked="checked"<?php } ?> />				<?php _e('不限制'); ?></label>				<label><input type="radio" value="1" name="username_rule"<?php if ($this->setting['username_rule'] == 1) { ?> checked="checked"<?php } ?> />				<?php _e('汉字/字母/数字/下划线'); ?></label>				<label><input type="radio" value="2" name="username_rule"<?php if ($this->setting['username_rule'] == 2) { ?> checked="checked"<?php } ?> />				<?php _e('字母/数字/下划线'); ?></label>				<label><input type="radio" value="3" name="username_rule"<?php if ($this->setting['username_rule'] == 3) { ?> checked="checked"<?php } ?> />				<?php _e('汉字'); ?></label></dd>			</dl>			<dl>				<dt><h3><?php _e('用户名最少字符数'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="username_length_min" class="form-control" type="text" value="<?php echo $this->setting['username_length_min']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('注: 一个汉字等于 2 个字符'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('用户名最多字符数'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="username_length_max" class="form-control" type="text" value="<?php echo $this->setting['username_length_max']; ?>"/></label>						</div>					</div>					<p class="aw-text-color-999"><?php _e('注: 一个汉字等于 2 个字符'); ?></p>				</dd>			</dl>						<dl>				<dt><h3><?php _e('用户注册协议'); ?>:</h3></dt>				<dd><textarea class="form-control" name="register_agreement"><?php echo $this->setting['register_agreement']; ?></textarea></dd>			</dl>			<dl>				<dt><h3><?php _e('用户注册名不允许出现以下关键字'); ?>: </h3></dt>				<dd>					<textarea class="form-control" name="censoruser" cols="100" rows="4" id="censoruser"><?php echo $this->setting['censoruser']; ?></textarea>					<p class="aw-text-color-999"><?php _e('每行填写一个关键字, 如: admin, 管理员等'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('用户注册后默认关注的用户 ID'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="def_focus_uids" class="form-control" type="text" value="<?php echo $this->setting['def_focus_uids']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('多个用户 ID 请用 , 隔开'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('首次登录推荐用户列表'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="welcome_recommend_users" class="form-control" type="text" value="<?php echo $this->setting['welcome_recommend_users']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('填写用户名, 若有多个用户名请用 , 隔开, 留空系统自动推荐'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('新用户注册获得邀请数量'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="newer_invitation_num" type="text" class="form-control" value="<?php echo $this->setting['newer_invitation_num']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('新用户注册系统发送的欢迎内容'); ?>:</h3></dt>				<dd>					<textarea class="form-control" name="welcome_message_pm"><?php echo $this->setting['welcome_message_pm']; ?></textarea>					<p class="aw-text-color-999"><?php _e('新用户注册欢迎内容, 以下变量可作为内容替换: <br />{username}: 用户名<br />{time}: 发送时间<br />{sitename}: 网站名称'); ?></p>				</dd>			</dl>			<dl>				<input type="hidden" name="set_email_settings" value="1" />				<dt><h3><?php _e('新用户默认邮件提醒设置'); ?>:</h3></dt>				<dd>					<label>						<input type="checkbox" name="new_user_email_setting[]" value="FOLLOW_ME"<?php if ($this->setting['new_user_email_setting']['FOLLOW_ME'] != 'N') { ?> checked="checked"<?php } ?> /> <?php _e('当有人关注我'); ?>					</label>					<label>						<input type="checkbox" name="new_user_email_setting[]" value="QUESTION_INVITE"<?php if ($this->setting['new_user_email_setting']['QUESTION_INVITE'] != 'N') { ?> checked="checked"<?php } ?> /> <?php _e('有人邀请我回答问题'); ?>					</label>					<label>						<input type="checkbox" name="new_user_email_setting[]" value="NEW_ANSWER"<?php if ($this->setting['new_user_email_setting']['NEW_ANSWER'] != 'N') { ?> checked="checked"<?php } ?> /> <?php _e('我关注的问题有了新回复'); ?>					</label>					<label>						<input type="checkbox" name="new_user_email_setting[]" value="NEW_MESSAGE"<?php if ($this->setting['new_user_email_setting']['NEW_MESSAGE'] != 'N') { ?> checked="checked"<?php } ?> /> <?php _e('有人向我发送私信'); ?>					</label>					<label>						<input type="checkbox" name="new_user_email_setting[]" value="QUESTION_MOD"<?php if ($this->setting['new_user_email_setting']['QUESTION_MOD'] != 'N') { ?> checked="checked"<?php } ?> /> <?php _e('我的问题被编辑'); ?>					</label>	            </dd>			</dl>			<dl>				<input type="hidden" name="set_notification_settings" value="1" />				<dt><h3><?php _e('新用户默认通知设置'); ?>:</h3></dt>				<dd><?php foreach($this->notify_actions as $key => $val) { ?>	            <?php if ($val['user_setting']) { ?>	            <label><input name="new_user_notification_setting[<?php echo $key;?>]" type="checkbox" value="1"<?php if (!in_array($key, $this->notification_settings)) { ?> checked="checked"<?php } ?> /> <?php _e($val['desc']); ?></label>  &nbsp;	            <?php } ?>	            <?php } ?></dd>			</dl>		</div>		<a name="functions"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('站点功能'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('网站公告'); ?>: </h3></dt>				<dd><textarea class="form-control" name="site_announce"><?php echo htmlspecialchars($this->setting['site_announce']); ?></textarea></dd>			</dl>			<dl>				<dt><h3><?php _e('开启 Rewrite 伪静态'); ?>: </h3></dt>				<dd>				<span class="yesno_yes">					<label><input type="radio" name="url_rewrite_enable" value="Y"<?php if ($this->setting['url_rewrite_enable'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>				</span>				<span class="yesno_no">					<label><input type="radio" name="url_rewrite_enable" value="N"<?php if ($this->setting['url_rewrite_enable'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>				</span> &nbsp; 				<span class="aw-text-color-999">(<?php _e('Rewrite 开启方法请见 ReadMe 说明文件'); ?>)</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('URL 链接显示样式'); ?>:</h3></dt>				<dd>				<table class="aw-table">					<tr>						<th align="center">[ <a href="javascript:;" onclick='$("#request_route_custom").val("/home/explore/===/explore/\n/home/explore/category-(:num)===/category/(:num)\n/people/list/===/users/\n/account/login/===/login/\n/account/logout/===/logout/\n/account/setting/(:any)/===/setting/(:any)/")'>获取规则</a> ]</th>						<td><?php echo get_setting('base_url'); ?>/question/123<br /><?php echo get_setting('base_url'); ?>/topic/123<br /><?php echo get_setting('base_url'); ?>/people/anwsion<br /><?php echo get_setting('base_url'); ?>/category/123</td>					</tr>					<tr>						<th align="center">[ <a href="javascript:;" onclick='$("#request_route_custom").val("/question/(:any)===/q_(:any)\n/topic/(:any)===/t_(:any).html\n/people/(:any)===/p_(:any).html\n/home/explore/category-(:num)===/c_(:num).html\n/home/explore/===/explore/\n/people/list/===/users/\n/account/login/===/login/\n/account/logout/===/logout/\n/account/setting/(:any)/===/setting/(:any)/");'>获取规则</a> ]</th>						<td><?php echo get_setting('base_url'); ?>/q_123<br /><?php echo get_setting('base_url'); ?>/t_话题.html<br /><?php echo get_setting('base_url'); ?>/p_admin.html<br /><?php echo get_setting('base_url'); ?>/c_123.html</td>					</tr>					<tr>						<th align="center"><?php _e('自定义路由'); ?></th>						<td><textarea class="form-control" name="request_route_custom" id="request_route_custom"><?php echo $this->setting['request_route_custom']; ?></textarea></td>					</tr>				</table>				<p class="aw-text-color-999"><?php _e('此模式只有开启 Rewrite 后有效, 请填写简略正则表达式, 每行一条规则, 中间使用 === 隔开, 左边为站点默认 URL 模式, 右边为替换后的 URL 模式, 链接以 / 开头, (:num) 代表数字, (:any) 代表任意字符<br />如替换问题规则与分类规则：<br />/question/(:any)===/q_(:any)<br />/home/explore/category-(:num)===/category/(:num)<br />(!) 警告: 使用此功能之前请确定你对替换有所把握, 错误的规则将导致站点不能运行'); ?></p>				</dd>			</dl>						<?php if (is_dir(ROOT_PATH . 'uc_client/')) { ?>			<dl>				<dt><h3><?php _e('UCenter 系统字符编码'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="ucenter_charset" class="form-control" type="text" value="<?php echo $this->setting['ucenter_charset']; ?>" />						</div>					</div>				</dd>			</dl>						<dl>				<dt><h3><?php _e('开启 Ucenter 用户对接'); ?>:</h3></dt>				<dd>				<span class="yesno_yes">					<label><input type="radio" name="ucenter_enabled" value="Y"<?php if ($this->setting['ucenter_enabled'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>				</span>								<span class="yesno_no">					<label><input type="radio" name="ucenter_enabled" value="N"<?php if ($this->setting['ucenter_enabled'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>				</span>				</dd>			</dl>			<?php } ?>						<dl>				<dt><h3><?php _e('通知未读数刷新间隔时间'); ?> (<?php _e('单位'); ?>: <?php _e('秒'); ?>):</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="unread_flush_interval" class="form-control" type="text" value="<?php echo $this->setting['unread_flush_interval']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('问题自动锁定时间'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="auto_question_lock_day" class="form-control" type="text" value="<?php echo $this->setting['auto_question_lock_day']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('单位'); ?>: <?php _e('天'); ?>, <?php _e('问题超过设定天数没有动作,系统则会自动锁定该问题, 设置为 0 则关闭自动锁定'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('网站统计代码'); ?>:</h3></dt>				<dd><textarea class="form-control" name="statistic_code"><?php echo $this->setting['statistic_code']; ?></textarea></dd>			</dl>			<dl>				<dt><h3><?php _e('问题举报理由选项'); ?>:</h3></dt>				<dd>					<textarea class="form-control" name="report_reason"><?php echo get_setting('report_reason'); ?></textarea>					<p class="aw-text-color-999"><?php _e('每行填写一个举报理由'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('有新举报与认证申请私信提醒用户 ID'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="report_message_uid" class="form-control" type="text" value="<?php echo $this->setting['report_message_uid']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('留空则发送到 ID 为 1 的用户'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('系统时间显示格式'); ?>:</h3></dt>				<dd><label><input type="radio" name="time_style" value="Y"<?php if ($this->setting['time_style'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('xx 分钟前形式'); ?></label>				<label><input type="radio" name="time_style" value="N"<?php if ($this->setting['time_style'] == 'N') { ?> checked="checked"<?php } ?> /> <?php _e('完整日期形式'); ?></label></dd>			</dl>			<dl>				<dt><h3><?php _e('管理员后台登录是否需要验证码'); ?>:</h3></dt>				<dd>				<span class="yesno_yes">					<label><input type="radio" name="admin_login_seccode" value="Y"<?php if ($this->setting['admin_login_seccode'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>				</span>								<span class="yesno_no">					<label><input type="radio" name="admin_login_seccode" value="N"<?php if ($this->setting['admin_login_seccode'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>				</span>				</dd>			</dl>						<dl>				<dt><h3><?php _e('发送诊断数据帮助改善产品'); ?>:</h3></dt>				<dd>				<span class="yesno_yes">					<label><input type="radio" name="report_diagnostics" value="Y"<?php if ($this->setting['report_diagnostics'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>				</span>								<span class="yesno_no">					<label><input type="radio" name="report_diagnostics" value="N"<?php if ($this->setting['report_diagnostics'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>				</span>				</dd>			</dl>		</div>		<a name="contents"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('内容设置'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('发起问题模式'); ?>:</h3></dt>								<dd>					<label><input type="radio" name="quick_publish" value="Y"<?php if ($this->setting['quick_publish'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('快捷模式'); ?></label>					<label><input type="radio" name="quick_publish" value="N"<?php if ($this->setting['quick_publish'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('高级模式'); ?></label>				</dd>			</dl>			<dl>				<dt><h3><?php _e('编辑器设置'); ?>:</h3></dt>								<dd>					<label><input type="radio" name="advanced_editor_enable" value="Y"<?php if ($this->setting['advanced_editor_enable'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('Markdown 编辑器'); ?></label>					<label><input type="radio" name="advanced_editor_enable" value="N"<?php if ($this->setting['advanced_editor_enable'] == 'N') { ?> checked="checked"<?php } ?> /> <?php _e('纯文本编辑器'); ?></label>				</dd>			</dl>			<dl>				<dt><h3><?php _e('启用分类功能'); ?>:</h3></dt>				<dd>					<span class="yesno_yes">						<label><input type="radio" name="category_enable" value="Y"<?php if ($this->setting['category_enable'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>					<span class="yesno_no">						<label><input type="radio" name="category_enable" value="N"<?php if ($this->setting['category_enable'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('允许上传附件'); ?>:</h3></dt>				<dd>					<span class="yesno_yes">						<label><input type="radio" name="upload_enable" value="Y"<?php if ($this->setting['upload_enable'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>					<span class="yesno_no">						<label><input type="radio" name="upload_enable" value="N"<?php if ($this->setting['upload_enable'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('允许的附件文件类型'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="allowed_upload_types" class="form-control" type="text" value="<?php echo $this->setting['allowed_upload_types']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('允许上传最大附件大小'); ?> (<?php _e('单位'); ?>: KB): </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="upload_size_limit" class="form-control" type="text" value="<?php echo $this->setting['upload_size_limit']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('回复内容最小字符数限制'); ?> (<?php _e('填写 0 则不限制'); ?>): </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="answer_length_lower" class="form-control" type="text" value="<?php echo $this->setting['answer_length_lower']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('问题标题最大字符数限制'); ?> (<?php _e('填写 0 则不限制'); ?>):</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="question_title_limit" class="form-control" type="text" value="<?php echo $this->setting['question_title_limit']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('新问题强制要求添加话题'); ?>:</h3></dt>				<dd>					<span class="yesno_yes">						<label><input type="radio" name="new_question_force_add_topic" value="Y"<?php if ($this->setting['new_question_force_add_topic'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>					<span class="yesno_no">						<label><input type="radio" name="new_question_force_add_topic" value="N"<?php if ($this->setting['new_question_force_add_topic'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('问题话题数量限制'); ?> (<?php _e('填写 0 则不限制'); ?>):</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="question_topics_limit" class="form-control" type="text" value="<?php echo $this->setting['question_topics_limit']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('自动展开评论'); ?>:</h3></dt>				<dd>					<span class="yesno_yes">						<label><input type="radio" name="unfold_question_comments" value="Y"<?php if ($this->setting['unfold_question_comments'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>					<span class="yesno_no">						<label><input type="radio" name="unfold_question_comments" value="N"<?php if ($this->setting['unfold_question_comments'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('评论内容最大字符数限制'); ?> (<?php _e('填写 0 则不限制'); ?>):</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="comment_limit" type="text" class="form-control" value="<?php echo $this->setting['comment_limit']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('话题标题最大字符数限制'); ?> (<?php _e('填写 0 则不限制'); ?>): </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="topic_title_limit" type="text" class="form-control" value="<?php echo $this->setting['topic_title_limit']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('允许上传最大头像/话题图片大小'); ?> (<?php _e('单位'); ?>: KB):</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="upload_avatar_size_limit" type="text" class="form-control" value="<?php echo $this->setting['upload_avatar_size_limit']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('回复编辑/删除有效时间'); ?> (<?php _e('单位'); ?>: <?php _e('分钟'); ?>): </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="answer_edit_time" type="text" class="form-control" value="<?php echo $this->setting['answer_edit_time']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('“没有帮助”数量达到多少个时折叠回复');?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="uninterested_fold" type="text" class="form-control" value="<?php echo $this->setting['uninterested_fold']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('系统自动选出最佳回复时间'); ?> (<?php _e('单位'); ?>: 天, <?php _e('填写 0 则不启用'); ?>):</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="best_answer_day" type="text" class="form-control" value="<?php echo $this->setting['best_answer_day']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('参与自动选出最佳回复的问题最小回复数'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="best_answer_min_count" type="text" class="form-control" value="<?php echo $this->setting['best_answer_min_count']; ?>"/>						</div>					</div>				</dd>			</dl>						<dl>				<dt><h3><?php _e('参与自动选出最佳回复的最小赞同数'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="best_agree_min_count" type="text" class="form-control" value="<?php echo $this->setting['best_agree_min_count']; ?>"/>						</div>					</div>				</dd>			</dl>						<dl>				<dt><h3><?php _e('阅读器获取最近多少天的热门问题'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="reader_questions_last_days" type="text" class="form-control" value="<?php echo $this->setting['reader_questions_last_days']; ?>"/>						</div>					</div>				</dd>			</dl>						<dl>				<dt><h3><?php _e('阅读器热门问题赞同数需大于或等于'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="reader_questions_agree_count" type="text" class="form-control" value="<?php echo $this->setting['reader_questions_agree_count']; ?>"/>						</div>					</div>				</dd>			</dl>						<dl>				<dt><h3><?php _e('自动建立地区/职业/公司话题'); ?>:</h3></dt>								<dd>					<span class="yesno_yes">						<label><input type="radio" name="auto_create_social_topics" value="Y"<?php if ($this->setting['auto_create_social_topics'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>					<span class="yesno_no">						<label><input type="radio" name="auto_create_social_topics" value="N"<?php if ($this->setting['auto_create_social_topics'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>		</div>		<a name="integral"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('积分与威望'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('使用积分系统'); ?>:</h3></dt>								<dd>					<span class="yesno_yes">						<label><input type="radio" name="integral_system_enabled" value="Y"<?php if ($this->setting['integral_system_enabled'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>										<span class="yesno_no">						<label><input type="radio" name="integral_system_enabled" value="N"<?php if ($this->setting['integral_system_enabled'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('积分单位'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_unit" type="text" class="form-control" value="<?php echo $this->setting['integral_unit']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('新用户注册默认拥有积分'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_system_config_register" type="text" class="form-control" value="<?php echo $this->setting['integral_system_config_register']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('用户完善资料获得积分'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_system_config_profile" type="text" class="form-control" value="<?php echo $this->setting['integral_system_config_profile']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('用户邀请注册并成功邀请'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_system_config_invite" type="text" class="form-control" value="<?php echo $this->setting['integral_system_config_invite']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('最佳回复'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_system_config_best_answer" type="text" class="form-control" value="<?php echo $this->setting['integral_system_config_best_answer']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('回复被折叠'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_system_config_answer_fold" type="text" class="form-control" value="<?php echo $this->setting['integral_system_config_answer_fold']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('发起问题'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_system_config_new_question" type="text" class="form-control" value="<?php echo $this->setting['integral_system_config_new_question']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('回复问题'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_system_config_new_answer" type="text" class="form-control" value="<?php echo $this->setting['integral_system_config_new_answer']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('感谢回复'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_system_config_thanks" type="text" class="form-control" value="<?php echo $this->setting['integral_system_config_thanks']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('发起者邀请别人回答问题并回答'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="integral_system_config_invite_answer" type="text" class="form-control" value="<?php echo $this->setting['integral_system_config_invite_answer']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('发起者赞同反对威望系数'); ?></h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="publisher_reputation_factor" type="text" class="form-control" value="<?php echo get_setting('publisher_reputation_factor'); ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('最佳回复威望系数'); ?></h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="best_answer_reput" type="text" class="form-control" value="<?php echo get_setting('best_answer_reput'); ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('对数底值'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="reputation_log_factor" type="text" class="form-control" value="<?php echo get_setting('reputation_log_factor'); ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('控制显示的威望值大小，底数越小威望值越大，底数越大威望值越小，系统默认数值是 3'); ?><br /><?php _e('威望公式：log((((用户组威望系数 x 赞同数 - 用户组威望系数 x 反对数) + 发起者赞同反对威望系数 + 最佳回复威望系数) + 0.5), 对数底值)'); ?></p>				</dd>			</p>		</div>		<a name="permissions"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('用户权限'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('用户对每个问题的回复限制'); ?>:</h3></dt>				<dd>					<label><input type="radio" name="answer_unique" value="Y"<?php if ($this->setting['answer_unique'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('只允许回复一次'); ?></label>					<label><input type="radio" name="answer_unique" value="N"<?php if ($this->setting['answer_unique'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('不限制'); ?></label>			</dl>			<dl>				<dt><h3><?php _e('允许用户回复自己发起的问题'); ?>:</h3></dt>								<dd>					<span class="yesno_yes">						<label><input type="radio" name="answer_self_question" value="Y"<?php if ($this->setting['answer_self_question'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>					<span class="yesno_no">						<label><input type="radio" name="answer_self_question" value="N"<?php if ($this->setting['answer_self_question'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('允许匿名发起或回复'); ?>:</h3></dt>								<dd>					<span class="yesno_yes">						<label><input type="radio" name="anonymous_enable" value="Y"<?php if ($this->setting['anonymous_enable'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>					<span class="yesno_no">						<label><input type="radio" name="anonymous_enable" value="N"<?php if ($this->setting['anonymous_enable'] == 'N') { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>		</div>		<a name="email"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('邮件设置'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('系统邮件发送方式'); ?>: </h3></dt>				<dd>					<select class="small-input" name="mail_config[transport]" style="width:500px;">						<option value="sendmail"<?php if ($this->setting['mail_config']['transport'] == 'sendmail') { ?> selected="selected"<?php } ?>><?php _e('通过 PHP 的 Sendmail 发送'); ?></option>						<option value="smtp"<?php if ($this->setting['mail_config']['transport'] == 'smtp') { ?> selected="selected"<?php } ?>><?php _e('通过 SOCKET 连接 SMTP 服务器发送'); ?></option>					</select>										<p class="aw-text-color-999"><?php _e('若选择 SendMail 方式, 下面的 SMTP 选项无效'); ?>, <?php _e('商业服务推荐:'); ?> <a href="http://sendcloud.sohu.com/?r=anwsion" target="_blank">SendCloud</a>, <a href="http://mailgun.com/?r=anwsion" target="_blank">Mailgun</a>, <a href="http://www.wecenter.com/services/ses/" target="_blank">Amazion SES</a></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('邮件编码'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="mail_config[charset]" type="text" class="form-control" value="<?php echo $this->setting['mail_config']['charset']; ?>" />						</div>					</div>					<p class="aw-text-color-999"><?php _e('非 UTF-8 编码会被自动转码'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('SMTP 服务器'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="mail_config[server]" type="text" class="form-control" value="<?php echo $this->setting['mail_config']['server']; ?>" />						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('使用安全链接(SSL)连接服务器'); ?>: </h3></dt>								<dd>					<span class="yesno_yes">						<label><input type="radio" name="mail_config[ssl]" value="1"<?php if ($this->setting['mail_config']['ssl'] == 1) { ?> checked="checked"<?php } ?> /><?php _e('是'); ?></label>					</span>					<span class="yesno_no">						<label><input type="radio" name="mail_config[ssl]" value="0"<?php if ($this->setting['mail_config']['ssl'] == 0) { ?> checked="checked"<?php } ?> /><?php _e('否'); ?></label>					</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('SMTP 端口'); ?>: </h3></dt>								<dd>					<div class="row">						<div class="col-sm-7">							<input name="mail_config[port]" type="text" class="form-control" value="<?php echo $this->setting['mail_config']['port']; ?>" />						</div>					</div>					<p class="aw-text-color-999"><?php _e('留空时默认服务器端口为 25，使用 SSL 协议默认端口为 465，详细参数请询问邮箱服务商'); ?></p>				</dd>			</dl>			<dl>				<dt><h3><?php _e('SMTP 帐户'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="mail_config[username]" type="text" class="form-control" value="<?php echo $this->setting['mail_config']['username']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('SMTP 密码'); ?></h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="mail_config[password]" type="password" class="form-control" value="<?php echo $this->setting['mail_config']['password']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('系统邮件来源邮箱地址'); ?></h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="from_email" type="text" class="form-control" value="<?php echo $this->setting['from_email']; ?>"/>						</div>					</div>				</dd>			</dl>		</div>		<a name="openid"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('开放平台'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('开启 QQ 登录功能'); ?>:</h3></dt>								<dd>					<span class="yesno_yes">						<label><input type="radio" name="qq_login_enabled" value="Y"<?php if ($this->setting['qq_login_enabled'] == 'Y') { ?> checked="checked"<?php } ?>/><?php _e('是'); ?></label>					</span>									<span class="yesno_no">						<label><input type="radio" name="qq_login_enabled" value="N"<?php if ($this->setting['qq_login_enabled'] == 'N') { ?> checked="checked"<?php } ?>/><?php _e('否'); ?></label>					</span>				</dd>			</dl>			<dl>				<dt><h3><?php _e('QQ 登录 AppID'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="qq_login_app_id" type="text" class="form-control" value="<?php echo $this->setting['qq_login_app_id']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('AppID 与 APPKey 需要到 <a href="http://connect.qq.com/" target="_blank">QQ 互联开放平台</a> 申请 (注意: 请申请网站不要申请应用)'); ?></p>				</dd>			</dl>						<dl>				<dt><h3><?php _e('QQ 登录 AppKey'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="qq_login_app_key" type="text" class="form-control" value="<?php echo $this->setting['qq_login_app_key']; ?>"/>						</div>					</div>				</dd>			</dl>						<dl>				<dt><h3><?php _e('开启新浪微博登录功能'); ?>:</h3></dt>								<dd>					<span class="yesno_yes">						<label><input type="radio" name="sina_weibo_enabled" value="Y"<?php if ($this->setting['sina_weibo_enabled'] == 'Y') { ?> checked="checked"<?php } ?>/><?php _e('是'); ?></label>					</span>									<span class="yesno_no">						<label><input type="radio" name="sina_weibo_enabled" value="N"<?php if ($this->setting['sina_weibo_enabled'] == 'N') { ?> checked="checked"<?php } ?>/><?php _e('否'); ?></label>					</span>				</dd>			</dl>						<dl>				<dt><h3><?php _e('新浪微博 AppKey(akey)'); ?>:</h3></dt>								<dd>					<div class="row">						<div class="col-sm-7">							<input name="sina_akey" type="text" class="form-control" value="<?php echo $this->setting['sina_akey']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('AppKey 需要到 <a href="http://open.weibo.com/" target="_blank">新浪微博开放平台</a> 申请 (注意: 请申请网站不要申请应用)'); ?></p>				</dd>			</dl>						<dl>				<dt><h3><?php _e('新浪微博 AppKey(skey)'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="sina_skey" type="text" class="form-control" value="<?php echo $this->setting['sina_skey']; ?>"/>						</div>					</div>				</dd>			</dl>						<dl>				<dt><h3><?php _e('开启腾讯微博登录功能'); ?>:</h3></dt>								<dd>					<span class="yesno_yes">						<label><input type="radio" name="qq_t_enabled" value="Y"<?php if ($this->setting['qq_t_enabled'] == 'Y') { ?> checked="checked"<?php } ?>/><?php _e('是'); ?></label>					</span>										<span class="yesno_no">						<label><input type="radio" name="qq_t_enabled" value="N"<?php if ($this->setting['qq_t_enabled'] == 'N') { ?> checked="checked"<?php } ?>/><?php _e('否'); ?></label>					</span>				</dd>			</dl>						<dl>				<dt><h3><?php _e('腾讯微博 AppKey(app_key)'); ?>:</h3></dt>								<dd>					<div class="row">						<div class="col-sm-7">							<input name="qq_app_key" type="text" class="form-control" value="<?php echo $this->setting['qq_app_key']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('AppKey 需要到 <a href="http://open.t.qq.com/" target="_blank">腾讯微博开放平台</a> 申请 (注意: 请申请网站不要申请应用)'); ?></p>				</dd>			</dl>						<dl>				<dt><h3><?php _e('腾讯微博 AppKey(app_secret)'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="qq_app_secret" type="text" class="form-control" value="<?php echo $this->setting['qq_app_secret']; ?>"/>						</div>					</div>				</dd>			</dl>						<dl>				<dt><h3><?php _e('微信公众平台接口 Token'); ?>: </h3></dt>								<dd>					<div class="row">						<div class="col-sm-7">							<input name="weixin_mp_token" type="text" class="form-control" value="<?php echo $this->setting['weixin_mp_token']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('请与微信公众平台后台设置一致'); ?></p>				</dd>			</dl>						<dl>				<dt><h3><?php _e('WeCenter 微信服务 Access token'); ?>: </h3></dt>								<dd>					<div class="row">						<div class="col-sm-7">							<input name="wecenter_access_token" type="text" class="form-control" value="<?php echo $this->setting['wecenter_access_token']; ?>"/>						</div>					</div>					<p class="aw-text-color-999"><?php _e('请到 %s 申请', '<a href="http://mp.wecenter.com" target="_blank">http://mp.wecenter.com</a>'); ?></p>				</dd>			</dl>						<dl>				<dt><h3><?php _e('WeCenter 微信服务 Access secret'); ?>: </h3></dt>								<dd>					<div class="row">						<div class="col-sm-7">							<input name="wecenter_access_secret" type="text" class="form-control" value="<?php echo $this->setting['wecenter_access_secret']; ?>"/>						</div>					</div>				</dd>			</dl>						<!--<dl>				<dt><h3><?php _e('微信公众平台 AppID'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="weixin_app_id" type="text" class="form-control" value="<?php echo $this->setting['weixin_app_id']; ?>"/>						</div>					</div>				</dd>			</dl>						<dl>				<dt><h3><?php _e('微信公众平台 AppSecret'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="weixin_app_secret" type="text" class="form-control" value="<?php echo $this->setting['weixin_app_secret']; ?>"/>						</div>					</div>				</dd>			</dl>-->		</div>		<a name="cache"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('性能优化'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('高级别缓存时间 (单位:秒)'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="cache_level_high" type="text" class="form-control" value="<?php echo $this->setting['cache_level_high']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('普通级别缓存时间 (单位:秒)'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="cache_level_normal" type="text" class="form-control" value="<?php echo $this->setting['cache_level_normal']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('低级别缓存时间 (单位:秒)'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="cache_level_low" type="text" class="form-control" value="<?php echo $this->setting['cache_level_low']; ?>"/>						</div>					</div>				</dd>			</dl>		</div>		<a name="interface"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('界面设置'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('用户界面风格'); ?>:</h3></dt>				<dd><select class="small-input" name="ui_style">				<?php foreach($this->styles as $skey => $val) { ?>					<option value="<?php echo $val['id']; ?>"<?php if ($this->setting['ui_style'] == $val['id']) { ?> selected="selected"<?php } ?>><?php echo $val['title']; ?></option>					<?php } ?>				</select></dd>			</dl>			<dl>				<dt><h3><?php _e('最新动态显示条数'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="index_per_page" class="form-control" type="text" value="<?php echo $this->setting['index_per_page']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('通知显示条数'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="notifications_per_page" class="form-control" type="text" value="<?php echo $this->setting['notifications_per_page']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('内容列表页显示条数'); ?>:</h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input name="contents_per_page" class="form-control" type="text" value="<?php echo $this->setting['contents_per_page']; ?>"/>						</div>					</div>				</dd>			</dl>			<dl>				<dt><h3><?php _e('首页推荐用户和话题数量'); ?>:</h3></dt>				<dd>						<div class="row">						<div class="col-sm-7">							<input name="recommend_users_number" class="form-control" type="text" value="<?php echo $this->setting['recommend_users_number']; ?>"/>						</div>					</div>				</dd>			</dl>		</div>				<a name="sensitive_words"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('词语过滤'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('敏感词列表'); ?>: </h3></dt>				<dd><textarea class="form-control" name="sensitive_words"><?php echo $this->setting['sensitive_words']; ?></textarea>				<p class="aw-text-color-999"><?php _e('内容中出现敏感词将被替换成 * , 每行填写一个词'); ?></p>				</dd>			</p>		</div>				<a name="topic_settings"></a>		<div class="aw-mod-head">			<h2><a href="javascript:;" onclick="ajax_post($('#settings_form'));" class="label label-inverse pull-right"><?php _e('快速保存'); ?></a><?php _e('话题设置'); ?></h2>		</div>		<div class="aw-mod-body">			<dl>				<dt><h3><?php _e('今日话题'); ?>: </h3></dt>				<dd>					<div class="row">						<div class="col-sm-7">							<input type="text" name="today_topics" class="form-control" value="<?php echo $this->setting['today_topics']; ?>" />						</div>					</div>					<p class="aw-text-color-999"><?php _e('填写话题名称, 系统每天随机选出一个作为今日话题, 留空则不显示今日话题, 可填写一个或多个话题, 多个话题请用 , 分隔'); ?></p>				</dd>			</dl>		</div>		<div class="aw-mod-footer">			<a href="javascript:;" class="btn btn-inverse btn-normal" onclick="ajax_post($('#settings_form'));"><?php _e('保存'); ?></a>		</div>	</div>	</form></div><?php TPL::output('admin/global/footer.tpl.htm'); ?>